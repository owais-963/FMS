<!DOCTYPE html>
<html lang="en">
<head>
	{% load static %}
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
    <title>Database website</title>
</head>
<body>
    <!-- HOMEPAGE -->
    <nav class="navbar navbar-expand-lg" >
        <div class="container">
          <a class="navbar-brand" href="index.html">SCHOOL OF EDUCATION</a>
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="{% url 'logout' %}">
                  <button type="button" class="btn btn-secondary">
                  SIGN OUT</button>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="profilepage.html">
                  <i class="fas fa-user" style="font-size: 34px;color:white;"></i>
                </a>
              </li>
            </ul>
        </div>
      </nav>

      <!-- BACK BUTTON -->
      <div style="display: flex; justify-content: center; margin-top: 50px;">
          <div>
              <a href="{% url 'dashboard'%}">
                  <button class="btn btn-secondary">GO BACK TO DASHBOARD</button>
                </a>
            </div>
          
      </div>

      <!-- TABLE -->
      <div class="container">
        <h1 class="dashboard-heading">CLASS FEE COLLECTION DATA</h1>
        
        <br />
         
        <div style="display: flex;  justify-content: space-evenly; flex-wrap: wrap;">
            <div class="table-responsive">
			{% load mathfilters %}
                <table class="table table-dark">
                    <thead>
                      <tr>
                        <th scope="col">CLASS</th>
                        <th scope="col">FEES</th>
                        <th scope="col">NO OF STUDENTS</th>
                        <th scope="col">TOTAL AMOUNT</th>
                        <!-- <th scope="col">AMOUNT COLLECTED</th> -->
                      </tr>
                    </thead>
        
<!-- 				    {% with ta=0 %}
					{% endwith %} -->
					
					    {% for d in data %}

						{% with total=d.total fees=d.fees %} 
						
                    <tbody>
                      <tr class="table-active">
                        <td scope="row">
                            <a href="{% url 'class_detail' d.grade %}" style="color: white; text-decoration: none; font-weight: 700;">{{d.grade}}</a>
                        </td>
                        <td>{{fees}}</td>
                        <td>{{total}}</td>
                        <td> {{total|mul:fees}}</td>
                        <!-- <td style="color: white; text-decoration: none; font-weight: 700;">Amount Collected</td> -->
                      </tr>
					  
					    {% endwith %}
						{% endfor %}
                      
                      <tr>
                      <td scope="row">
                          <a href="classstudentsdata.html" style="color: white; text-decoration: none; font-weight: 700;"><b>Total</b></a>
                        </td>
                      <td>{{tf}}</td>
                      <td>{{ts}}</td>
                      <td>{{ tf_c }}</td>
                      <!-- <td style="color: white; text-decoration: none; font-weight: 700;">Amount Collected</td> -->
                      </tr>
                    </tbody>
                  </table>
                </div>  
                  
                  <!-- EDIT TABLE -->
                  <div>
                    <form method="POST" action="{% url 'fees_data' %}">
					{% csrf_token %}
                        <div class='mb-3'>
                          <label
                            htmlFor='exampleInputEmail1'
                            class='form-label'
                            style="width:300px"
                          >
                            CLASS:
                          </label>
                          <input
                            style="width: 300px"
                            name="class"
                            type='number'
                            class='form-control'
                            id='exampleInputEmail'
                            aria-describedby='emailHelp'
                            value=""
							required
                            >
                        </div>
                        <div class='mb-3'>
                          <label
                            htmlFor='exampleInputPassword1'
                            class='form-label'
                            style="width:300px"
                          >
                            FEES:
                          </label>
                          <input
                            style="width: 300px"
                            name="fees"
                            type="number"
                            class='form-control'
                            id='exampleInputPassword1'
                            value=""
                            >
                        </div>
                        <button
                          type='submit'
                          class='btn btn-secondary'
                          style="width: 300px"
                        >
                          Submit
                        </button>
                      </form>
                  </div>
                  
                </div>
            </div>
            

        


      


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>
